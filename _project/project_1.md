---
title: "Design and Implementation of Permanent Magnet Synchronous Motor Control System Based on CAN Bus"
excerpt: "This topic is based on Controller Area Network(CAN) bus communication permanent magnet synchronous motor control system, which can be used in the tripod head, robot dog, manipulator and other high precision and torque requirements of the field. The research content includes hardware design and software debugging of permanent magnet synchronous motor control system. Firstly, the mathematical model and derivation process of permanent magnet synchronous motor and magnetic field oriented control are understood by reading literature. Secondly, according to the function to be realized, a relatively new scheme is selected, that is, DRV8323S in the integrated drive chip DRV83 series of TI Company is used. The hardware design side of the motor driver chip initialization parameters and device selection parameters are calculated in detail, according to the results of the selection of appropriate inverter circuit devices and protective devices, and completed the hardware circuit design and welding. Part of the program design code uses the latest version of HAL library, and first realizes the calculation of CAN communication, ADC sampling and magnetic field oriented control. Finally, the PI parameters of the three rings are debugged, and the control effect is basically realized.<br/><img src='/images/FOC_Design/control_circuit.png' width='153' height='255'> &nbsp;&nbsp;<img src='/images/FOC_Design/drive_circuit.png' width='339' height='255'> &nbsp;&nbsp;<img src='/images/FOC_Design/FOC_Circuits.png' width='289' height='205'> <br/><br/>Programe flow chart of the Controller<br/><img src='/images/FOC_Design/program_flow_chart.png'>"
collection: project 

---

This topic is based on Controller Area Network(CAN) bus communication permanent magnet synchronous motor control system, which can be used in the tripod head, robot dog, manipulator and other high precision and torque requirements of the field. The research content includes hardware design and software debugging of permanent magnet synchronous motor control system. Firstly, the mathematical model and derivation process of permanent magnet synchronous motor and magnetic field oriented control are understood by reading literature. Secondly, according to the function to be realized, a relatively new scheme is selected, that is, DRV8323S in the integrated drive chip DRV83 series of TI Company is used. The hardware design side of the motor driver chip initialization parameters and device selection parameters are calculated in detail, according to the results of the selection of appropriate inverter circuit devices and protective devices, and completed the hardware circuit design and welding. Part of the program design code uses the latest version of HAL library, and first realizes the calculation of CAN communication, ADC sampling and magnetic field oriented control. Finally, the PI parameters of the three rings are debugged, and the control effect is basically realized.

If you're interested, please take a look at the article: [Design and Implementation of Permanent Magnet Synchronous Motor Control System Based on CAN Bus](../../files/Design_and_Implementation_of_Permanent_Magnet_Synchronous_Motor_Control_System_Based_on_CAN_Bus_from_Wenhao_Liu.pdf)(In Chinese).

In the 1980s, the development of permanent magnet materials, especially rubidium iron-boron permanent magnet materials with high magnetic energy products, high coercivity, and low price, enabled people to develop permanent magnet motors with low prices, small size, and high performance. The Permanent Magnetics Synchronous Machine (PMSM) and Brushless DC Motor (BLDC) are both AC motors, their main difference is the distribution of the air gap magnetic field. The BLDC counterelectromotive force is close to the step wave shape, while the PMSM counterelectromotive force is a sine wave. The concept of Permanent Magnet in a permanent magnet synchronous motor refers to the addition of a permanent magnet when manufacturing a motor rotor so that the performance of the motor is further improved. The stator of the permanent magnet synchronous motor generates a three-phase current in the process of cutting the magnetic field. The rotors can be divided into Insert Type, Surface Mount Type, and Built-in Type according to the differences in the ways installed in the permanent magnet synchronous motor. The so-called synchronization means that the speed of the rotor is always consistent with the current frequency of the stator winding.
<style>.image-container {display: flex; /* 使用Flexbox布局 */justify-content: center; /* 使图片和文字居中 */}.image-with-caption {text-align: center; /* 使图片和文字居中对齐 */margin: 10px; /* 在图片之间添加一些间距 */}.image-caption {font-size: 8px !important;color: #666;}</style><div class="image-container"> <div class="image-with-caption"><img src="/images/FOC_Design/BLDC.png" width='250' height='250' alt="First Image"><p class="image-caption">BLDC magnetic core</p> </div> <div class="image-with-caption"><img src="/images/FOC_Design/PMSM.png" width='230' height='230' alt="Second Image"><p class="image-caption">Surface Mount Type PMSM magnetic core</p></div> </div>






<!--<video width="320" height="600" controls style="display: block; margin: auto;"><source src="/images/FOC_Design/Motor_start-stop_forward_and_reverse_rotation.mp4" type="video/mp4"></video><p style="text-align: center;">Motor start-stop forward and reverse rotation</p> <video width="320" height="600" controls style="display: block; margin: auto;"><source src="/images/FOC_Design/Motor_start-stop_forward_and_reverse_rotation.mp4" type="video/mp4"></video><p style="text-align: center;">Motor start-stop forward and reverse rotation</p> -->

<font size="5">Project Video Presentation</font>

<style>.video-container {display: flex; /* 使用Flexbox布局 */ justify-content: center; /* 居中对齐Flex项 */ align-items: flex-start; /* 使Flex项在交叉轴的起点对齐 */ flex-wrap: wrap; /* 允许Flex项换行 */} .video-with-caption {text-align: center; /* 文本居中 */ margin: 10px; /* 添加间距 */} .video-caption {font-size: 14px; color: #666;}</style>
<div class="video-container"> <div class="video-with-caption"><video width="320" height="580" controls><source src="/images/FOC_Design/Motor_start-stop_forward_and_reverse_rotation.mp4" type="video/mp4"></video><p class="video-caption">Motor Start-Stop Forward and Reverse Rotation</p> </div><div class="video-with-caption"><video width="320" height="580" controls><source src="/images/FOC_Design/motor_speed-loop_control.mp4" type="video/mp4"></video><p class="video-caption">Motor Speed-Loop Control</p></div></div>


